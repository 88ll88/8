<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>539 專業走勢主表 - index.html</title>
    <script src="https://88l88.github.io/666/allData.js"></script>
    <style>
        /* 與 1.html 完全一致的規格鎖定 */
        :root { 
            --bar-h: 48px; 
            --th-h: 38px;
            --row-h: 32px;
            --blue: #e8f0fe; --yellow: #fff9c4; --hit: #ff3300;
        }
        html { overflow-y: scroll; } /* 強制顯示滾動條，防止位移 */
        body { margin: 0; padding: 0; font-family: "Microsoft JhengHei", sans-serif; background: #fff; }

        /* 頂部工具列：主頁放置功能選單 */
        .top-bar { 
            position: sticky; top: 0; z-index: 1000; 
            height: var(--bar-h); background: #333; color: #fff; 
            display: flex; justify-content: center; align-items: center;
            gap: 10px; padding: 0 20px; box-sizing: border-box;
            border-bottom: 2px solid #000;
        }
        
        /* 導航按鈕樣式 */
        .nav-link {
            padding: 4px 12px; background: #555; color: #fff;
            text-decoration: none; font-size: 13px; font-weight: bold; border-radius: 3px;
            transition: 0.2s;
        }
        .nav-link:hover { background: #eee; color: #000; }
        .nav-link.active { background: #003399; color: #fff; border: 1px solid #fff; }

        /* 表格總寬鎖定 1100px */
        .table-wrap { width: 1100px; margin: 0 auto; }
        table { border-collapse: collapse; width: 100%; table-layout: fixed; border: 1px solid #999; }
        
        /* 標題列：01-39 號碼標題 */
        .head-main th { 
            position: sticky; top: var(--bar-h); z-index: 900;
            background: #000; color: #fff; font-size: 13px;
            height: var(--th-h); border: 1px solid #444;
        }
        /* 次列：100次數 */
        .head-sub th { 
            position: sticky; top: calc(var(--bar-h) + var(--th-h)); z-index: 850;
            background: #ffffcc; color: #d00; font-size: 12px;
            height: 30px; border: 1px solid #ccc;
        }

        td { border: 1px solid #ccc; text-align: center; height: var(--row-h); font-size: 13px; }

        /* 走勢圖專用色 */
        .z1 { background: var(--blue); } .z2 { background: var(--yellow); } .z3 { background: var(--blue); }
        .ball { display: inline-block; width: 22px; height: 22px; line-height: 22px; background: var(--hit); color: #fff; border-radius: 50%; font-weight: bold; }
        .miss { color: #d0d0d0; font-size: 11px; }

        /* 欄位寬度鎖定 */
        .w-date { width: 100px; } 
        .w-num  { width: 25px; }
        .w-idx  { width: 25px; color: #999; }
    </style>
</head>
<body>

<div class="top-bar">
    <a href="index.html" class="nav-link active">號碼走勢</a>
    <a href="1.html" class="nav-link">單雙比例</a>
    <a href="2.html" class="nav-link">頭數分析</a>
    <a href="3.html" class="nav-link">尾數分析</a>
    <a href="4.html" class="nav-link">三分區</a>
    <a href="5.html" class="nav-link">遺漏統計</a>
</div>

<div class="table-wrap">
    <table>
        <thead>
            <tr class="head-main" id="h-main"></tr>
            <tr class="head-sub" id="h-sub"></tr>
        </thead>
        <tbody id="b-data"></tbody>
    </table>
</div>

<script>
    function render() {
        if (!window.all) return setTimeout(render, 100);
        const data = all.slice(0, 100);
        const hMain = document.getElementById('h-main'), hSub = document.getElementById('h-sub'), bData = document.getElementById('b-data');

        // 1. 計算 100 天次數
        let counts = Array(40).fill(0);
        data.forEach(row => row.slice(1, 6).forEach(n => counts[Number(n)]++));

        // 2. 渲染標題列
        let hHtml = '<th class="w-date">日期</th>';
        for(let i=1; i<=39; i++) hHtml += `<th class="w-num">${String(i).padStart(2,'0')}</th>`;
        hMain.innerHTML = hHtml + '<th class="w-idx">序</th>';

        // 3. 渲染次數列
        let sHtml = '<th>100次數</th>';
        for(let i=1; i<=39; i++) sHtml += `<th>${counts[i]}</th>`;
        hSub.innerHTML = sHtml + '<th>#</th>';

        // 4. 渲染數據
        let bHtml = "";
        data.forEach((row, idx) => {
            const nums = row.slice(1, 6).map(Number);
            bHtml += `<tr><td style="color:#666; font-size:12px">${row[0]}</td>`;
            for (let i = 1; i <= 39; i++) {
                let z = i <= 13 ? 'z1' : (i <= 26 ? 'z2' : 'z3');
                if (nums.includes(i)) {
                    bHtml += `<td class="${z}"><span class="ball">${String(i).padStart(2,'0')}</span></td>`;
                } else {
                    bHtml += `<td class="${z} miss">${String(i).padStart(2,'0')}</td>`;
                }
            }
            bHtml += `<td style="color:#999">${idx + 1}</td></tr>`;
        });
        bData.innerHTML = bHtml;
    }
    render();
</script>
</body>

</html>
